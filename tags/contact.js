riot.tag("contact",'<div class="card"><i if="{contactModel.contacts.length &gt; 3}" onclick="{ removeContact }" class="card__remove">Remove</i><div class="md-input { show: nameValid }"><input type="text" required onkeyup="{ changeName }"><span class="highlight"></span><span class="bar"></span><label>Name</label><i class="valid icon icon-check"></i></div><div class="md-input { show: validMail }"><input type="text" required onkeyup="{ changeMail }"><span class="highlight"></span><span class="bar"></span><label>Mail</label><i class="valid icon icon-check"></i></div></div>',function(t){changeName=window.utils.debounce(function(t){var a=t.target.value;contactModel.editName(this.opts.contact.id,a),this.nameValid=a.length>0,this.update()},300),changeMail=window.utils.debounce(function(t){var a=t.target.value;contactModel.editMail(this.opts.contact.id,a),this.validMail=window.utils.validateEmail(a),this.update()},300);var a=this;this.on("mount",function(){var t=contactModel.contacts[contactModel.contacts.length-1];contactModel.contacts.length>3&&a.opts.contact.id===t.id&&setTimeout(function(){window.smoothScroll(a.root,500)},0)}),this.removeContact=function(){contactModel.remove(a.opts.contact.id)}.bind(this),contactModel.on("error",function(t){a.opts.contact.id===t&&window.smoothScroll(a.root,500,function(){console.log("end")})})});